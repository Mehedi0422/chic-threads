<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results | Chic Threads</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <header class="main-header">
        <div class="container">
            <a href="index.html" class="logo">Chic Threads</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="new-arrivals.html">New Arrivals</a></li>
                    <li><a href="women.html">Women</a></li>
                    <li><a href="men.html">Men</a></li>
                    <li><a href="accessories.html">Accessories</a></li>
                    <li><a href="sale.html">Sale</a></li>
                    <li><a href="blog.html">Blog</a></li>
                </ul>
            </nav>
            <div class="header-icons">
                <div class="search-container">
                    <form action="search.html" method="GET">
                        <input type="text" id="search-input" name="query" placeholder="Search products..." class="search-input">
                        <button type="submit" class="search-btn"><i class="fas fa-search"></i></button>
                    </form>
                </div>
                <a href="#"><i class="far fa-heart"></i></a>
                <a href="#"><i class="fas fa-shopping-cart"></i></a>
                <a href="#" class="user-link">Sign In / Register</a>
            </div>
        </div>
    </header>

    <div class="collection-page container">
        <div class="breadcrumbs">
            <a href="index.html">Home</a> <i class="fas fa-chevron-right"></i> Search Results
        </div>
        
        <h1 id="search-title">Search Results</h1>
        <p id="result-info"></p>

        <div class="product-grid" id="search-results-grid">
        </div>

        <div id="no-results" style="display: none; text-align: center; padding: 4rem;">
            <h2>No results found.</h2>
            <p>Try refining your search or browse our collections.</p>
        </div>
    </div>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4>About Us</h4>
                    <ul>
                        <li><a href="#">Our Story</a></li>
                        <li><a href="#">Careers</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Customer Service</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Shipping & Returns</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Connect</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-column newsletter">
                    <h4>Newsletter</h4>
                    <p>Sign up for exclusive offers and updates.</p>
                    <form>
                        <input type="email" placeholder="Your email address">
                        <button type="submit">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Chic Threads. All Rights Reserved.</p>
                <div class="payment-logos">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-paypal"></i>
                </div>
            </div>
        </div>
    </footer>

    <script src="scripts/product.js"></script>
    <script>
        // This is a simple script to handle the search functionality
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        document.addEventListener('DOMContentLoaded', () => {
            const query = getUrlParameter('query').toLowerCase();
            const resultsContainer = document.getElementById('search-results-grid');
            const noResults = document.getElementById('no-results');
            const resultInfo = document.getElementById('result-info');

            if (query) {
                document.getElementById('search-title').innerText = `Search Results for "${query}"`;
                const filteredProducts = allProducts.filter(product =>
                    product.name.toLowerCase().includes(query) ||
                    product.description.toLowerCase().includes(query) ||
                    product.category.toLowerCase().includes(query)
                );

                if (filteredProducts.length > 0) {
                    filteredProducts.forEach(product => {
                        const productCard = `
                            <div class="product-card">
                                <div class="product-image-wrapper">
                                    <img src="${product.images[0]}" alt="${product.name}">
                                    <div class="quick-view"><i class="fas fa-eye"></i> Quick View</div>
                                </div>
                                <h3>${product.name}</h3>
                                <p class="product-price">$${product.price.toFixed(2)}</p>
                                <div class="product-actions">
                                    <i class="far fa-heart"></i>
                                    <a href="product-template.html?id=${product.id}" class="shop-now-btn">Shop Now</a>
                                </div>
                            </div>
                        `;
                        resultsContainer.innerHTML += productCard;
                    });
                    resultInfo.innerText = `Showing ${filteredProducts.length} results.`;
                } else {
                    noResults.style.display = 'block';
                    resultInfo.innerText = '0 results found.';
                }
            } else {
                noResults.style.display = 'block';
                document.getElementById('search-title').innerText = 'Search for a product';
                resultInfo.innerText = 'Please enter a search term.';
            }
        });
    </script>
</body>
</html>